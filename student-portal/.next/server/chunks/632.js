"use strict";exports.id=632,exports.ids=[632],exports.modules={14952:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(62688).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},35071:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(62688).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},37826:(e,s,a)=>{a.d(s,{Cf:()=>u,Es:()=>h,L3:()=>p,c7:()=>x,lG:()=>d,rr:()=>f,zM:()=>c});var t=a(60687),n=a(43210),l=a(26134),r=a(11860),i=a(96241);let d=l.bL,c=l.l9,o=l.ZL;l.bm;let m=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=l.hJ.displayName;let u=n.forwardRef(({className:e,children:s,...a},n)=>(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:n,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(r.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=l.UC.displayName;let x=({className:e,...s})=>(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});x.displayName="DialogHeader";let h=({className:e,...s})=>(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});h.displayName="DialogFooter";let p=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));p.displayName=l.hE.displayName;let f=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=l.VY.displayName},39390:(e,s,a)=>{a.d(s,{J:()=>c});var t=a(60687),n=a(43210),l=a(78148),r=a(24224),i=a(96241);let d=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.b,{ref:a,className:(0,i.cn)(d(),e),...s}));c.displayName=l.b.displayName},40347:(e,s,a)=>{a.d(s,{C:()=>c,z:()=>d});var t=a(60687),n=a(43210),l=a(14555),r=a(65822),i=a(96241);let d=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.bL,{className:(0,i.cn)("grid gap-2",e),...s,ref:a}));d.displayName=l.bL.displayName;let c=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.q7,{ref:a,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(r.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}));c.displayName=l.q7.displayName},47033:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(62688).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},57769:(e,s,a)=>{a.d(s,{k:()=>g});var t=a(60687),n=a(43210),l=a(11273),r=a(14163),i="Progress",[d,c]=(0,l.A)(i),[o,m]=d(i),u=n.forwardRef((e,s)=>{var a,n;let{__scopeProgress:l,value:i=null,max:d,getValueLabel:c=p,...m}=e;(d||0===d)&&!N(d)&&console.error((a=`${d}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=N(d)?d:100;null===i||b(i,u)||console.error((n=`${i}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let x=b(i,u)?i:null,h=j(x)?c(x,u):void 0;return(0,t.jsx)(o,{scope:l,value:x,max:u,children:(0,t.jsx)(r.sG.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":j(x)?x:void 0,"aria-valuetext":h,role:"progressbar","data-state":f(x,u),"data-value":x??void 0,"data-max":u,...m,ref:s})})});u.displayName=i;var x="ProgressIndicator",h=n.forwardRef((e,s)=>{let{__scopeProgress:a,...n}=e,l=m(x,a);return(0,t.jsx)(r.sG.div,{"data-state":f(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...n,ref:s})});function p(e,s){return`${Math.round(e/s*100)}%`}function f(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function j(e){return"number"==typeof e}function N(e){return j(e)&&!isNaN(e)&&e>0}function b(e,s){return j(e)&&!isNaN(e)&&e<=s&&e>=0}h.displayName=x;var v=a(96241);let g=n.forwardRef(({className:e,value:s,indicatorClassName:a,...n},l)=>(0,t.jsx)(u,{ref:l,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:(0,t.jsx)(h,{className:(0,v.cn)("h-full w-full flex-1 bg-primary transition-all",a),style:{transform:`translateX(-${100-(s||0)}%)`}})}));g.displayName=u.displayName},78377:(e,s,a)=>{a.d(s,{w:()=>i});var t=a(60687),n=a(43210),l=a(62369),r=a(96241);let i=n.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...n},i)=>(0,t.jsx)(l.b,{ref:i,decorative:a,orientation:s,className:(0,r.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...n}));i.displayName=l.b.displayName},83632:(e,s,a)=>{a.d(s,{Z:()=>I});var t=a(60687),n=a(43210),l=a(16189),r=a(12317),i=a(37826),d=a(24934),c=a(78377),o=a(3018),m=a(41862),u=a(43649),x=a(62688);let h=(0,x.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var p=a(49691),f=a(47033);let j=(0,x.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var N=a(14952);function b({currentQuestion:e,totalQuestions:s,onPrevious:a,onNext:n,onSubmit:l,isSubmitting:r}){let i=e===s-1;return(0,t.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,t.jsxs)(d.$,{variant:"outline",onClick:a,disabled:0===e||r,className:"flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Previous"]}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:["Question ",e+1," of ",s]}),i?(0,t.jsxs)(d.$,{onClick:l,disabled:r,className:"flex items-center gap-1",children:[r?"Submitting...":"Submit Quiz",(0,t.jsx)(j,{className:"h-4 w-4 ml-1"})]}):(0,t.jsxs)(d.$,{variant:"outline",onClick:n,disabled:r,className:"flex items-center gap-1",children:["Next",(0,t.jsx)(N.A,{className:"h-4 w-4"})]})]})}var v=a(40347),g=a(39390),y=a(55192);function w({question:e,questionIndex:s,currentAnswer:a}){let l=(0,r.j)(),[i,d]=(0,n.useState)(a);return(0,t.jsxs)(y.Zp,{className:"mb-6",children:[(0,t.jsx)(y.aR,{children:(0,t.jsxs)(y.ZB,{className:"text-lg",children:["Question ",s+1,": ",e.question]})}),(0,t.jsx)(y.Wu,{children:"multiple_choice"===e.type&&e.options&&(0,t.jsx)(v.z,{value:i,onValueChange:a=>{d(a);let t={questionIndex:s,selectedOption:a,type:e.type};l((0,p.s4)(t))},className:"space-y-3",children:e.options.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v.C,{value:e,id:`q${s}-option-${a}`}),(0,t.jsx)(g.J,{htmlFor:`q${s}-option-${a}`,className:"text-base",children:e})]},a))})})]})}var q=a(57769),k=a(59821);let z=(0,x.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var C=a(82080),A=a(5336),$=a(35071);let M=(0,x.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function R({attempt:e,onClose:s}){if(!e.score||!e.answers||!e.quiz)return(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Results Unavailable"}),(0,t.jsx)(y.BT,{children:"The quiz results could not be loaded. Please try again later."})]}),(0,t.jsx)(y.Wu,{children:(0,t.jsx)(d.$,{onClick:s,children:"Return to Quizzes"})})]});let a=Math.round(e.score/e.quiz.totalMarks*100),n=e.isPassed,l="timed_out"===e.status;return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(y.Zp,{children:[(0,t.jsx)(y.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.ZB,{className:"text-2xl",children:[e.quiz.title," Results"]}),(0,t.jsx)(y.BT,{children:e.quiz.description})]}),(0,t.jsx)(k.E,{variant:n?"default":"destructive",children:n?"Passed":"Failed"})]})}),(0,t.jsxs)(y.Wu,{className:"space-y-6",children:[l&&(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(z,{className:"h-5 w-5 text-amber-500 mt-0.5 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-amber-800",children:"Quiz Timed Out"}),(0,t.jsx)("p",{className:"text-amber-700 text-sm mt-1",children:"Your quiz was automatically submitted because the time limit was reached. Unanswered questions were marked as incorrect."})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Your Score"}),(0,t.jsxs)("span",{className:"font-bold text-lg",children:[e.score," / ",e.quiz.totalMarks," (",a,"%)"]})]}),(0,t.jsx)(q.k,{value:a,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"0%"}),(0,t.jsxs)("span",{className:"font-medium",children:["Passing: ",Math.round(e.quiz.passingMarks/e.quiz.totalMarks*100),"%"]}),(0,t.jsx)("span",{children:"100%"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-muted rounded-md p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-medium mb-2",children:[(0,t.jsx)(C.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Quiz Details"})]}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Questions:"}),(0,t.jsx)("span",{children:e.quiz.numberOfQuestions})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Time Limit:"}),(0,t.jsxs)("span",{children:[e.quiz.timeLimit," minutes"]})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Completed:"}),(0,t.jsx)("span",{children:new Date(e.endTime||"").toLocaleString()})]})]})]}),(0,t.jsxs)("div",{className:"bg-muted rounded-md p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-medium mb-2",children:[(0,t.jsx)(A.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Performance"})]}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Correct Answers:"}),(0,t.jsx)("span",{className:"text-green-600 font-medium",children:Math.round(e.score/e.quiz.totalMarks*e.quiz.numberOfQuestions)})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Incorrect Answers:"}),(0,t.jsx)("span",{className:"text-red-600 font-medium",children:e.quiz.numberOfQuestions-Math.round(e.score/e.quiz.totalMarks*e.quiz.numberOfQuestions)})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,t.jsx)("span",{className:n?"text-green-600 font-medium":"text-red-600 font-medium",children:n?"Passed":"Failed"})]})]})]})]}),e.feedback&&(0,t.jsxs)("div",{className:"bg-muted rounded-md p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-medium mb-2",children:[(0,t.jsx)(z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Feedback"})]}),(0,t.jsx)("p",{className:"text-sm",children:e.feedback})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Question Review"}),e.questions.map((s,a)=>{let n=e.answers?.find(e=>e.questionIndex===a),l=n?.selectedOption===s.correctAnswer;return(0,t.jsxs)(y.Zp,{className:`border ${l?"border-green-200":"border-red-200"}`,children:[(0,t.jsx)(y.aR,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)(y.ZB,{className:"text-base",children:["Question ",a+1]}),n?l?(0,t.jsxs)(k.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,t.jsx)(A.A,{className:"h-3 w-3 mr-1"})," Correct"]}):(0,t.jsxs)(k.E,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,t.jsx)($.A,{className:"h-3 w-3 mr-1"})," Incorrect"]}):(0,t.jsxs)(k.E,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[(0,t.jsx)(z,{className:"h-3 w-3 mr-1"})," Unanswered"]})]})}),(0,t.jsxs)(y.Wu,{className:"pt-0",children:[(0,t.jsx)("p",{className:"mb-2",children:s.question}),s.options&&(0,t.jsx)("div",{className:"space-y-1 mt-2 text-sm",children:s.options.map((e,a)=>(0,t.jsxs)("div",{className:`p-2 rounded-md ${e===s.correctAnswer?"bg-green-50 border border-green-200":e===n?.selectedOption&&e!==s.correctAnswer?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"}`,children:[e,e===s.correctAnswer&&(0,t.jsx)("span",{className:"ml-2 text-green-600 text-xs font-medium",children:"(Correct Answer)"}),e===n?.selectedOption&&e!==s.correctAnswer&&(0,t.jsx)("span",{className:"ml-2 text-red-600 text-xs font-medium",children:"(Your Answer)"})]},a))}),s.explanation&&(0,t.jsxs)("div",{className:"mt-3 text-sm bg-blue-50 p-3 rounded-md border border-blue-200",children:[(0,t.jsx)("span",{className:"font-medium",children:"Explanation: "}),s.explanation]})]})]},a)})]}),(0,t.jsxs)(d.$,{onClick:s,className:"w-full mt-4 flex items-center justify-center gap-2",children:[(0,t.jsx)(M,{className:"h-4 w-4"}),"Return to Quizzes"]})]})]})})}var O=a(48730);function S({onTimeExpired:e}){(0,r.j)();let{timeRemaining:s}=(0,r.G)(e=>e.quiz),[a,l]=(0,n.useState)(!1);if(null===s)return null;let i=Math.floor(s/60),d=`${i.toString().padStart(2,"0")}:${(s%60).toString().padStart(2,"0")}`;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:`flex items-center gap-2 text-lg font-semibold ${a?"text-red-500":"text-primary"}`,children:[(0,t.jsx)(O.A,{className:`h-5 w-5 ${a?"animate-pulse":""}`}),(0,t.jsxs)("span",{children:["Time Remaining: ",d]})]}),a&&(0,t.jsxs)(o.Fc,{variant:"destructive",className:"bg-red-50 text-red-800 border-red-200",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsxs)(o.TN,{children:["Less than ",0===i?"1 minute":"2 minutes"," remaining! Your quiz will be automatically submitted when time expires."]})]})]})}function I({quizId:e,isOpen:s,onClose:a}){let x=(0,l.useRouter)();(0,l.usePathname)();let f=(0,r.j)(),{currentAttempt:j,isLoading:N,error:v,isSubmitting:g,answers:y,isQuizActive:q}=(0,r.G)(e=>e.quiz),{studentProfile:k,accessToken:z}=(0,r.G)(e=>e.auth),[C,A]=(0,n.useState)(0),[$,M]=(0,n.useState)(!1),[O,I]=(0,n.useState)(!1),[Q,T]=(0,n.useState)(!1),[E,G]=(0,n.useState)(null),P=(0,n.useCallback)(()=>{if(!j||!z)return;let e=[...y];j.questions.forEach((s,a)=>{if(!e.some(e=>e.questionIndex===a)&&s.options&&s.correctAnswer){let t=s.options.filter(e=>e!==s.correctAnswer);if(t.length>0){let n=Math.floor(Math.random()*t.length),l={questionIndex:a,selectedOption:t[n],type:s.type};e.push(l)}else{let t={questionIndex:a,selectedOption:s.options[0],type:s.type};e.push(t)}}}),f((0,p.E1)({attemptId:j.id,answers:e,token:z,timedOut:!0})).then(()=>{M(!0)})},[j,z,y,f]),L=()=>{if(!j||!z)return;let e=[...y];j.questions.forEach((s,a)=>{if(!e.some(e=>e.questionIndex===a)&&s.options&&s.correctAnswer){let t=s.options.filter(e=>e!==s.correctAnswer);if(t.length>0){let n=Math.floor(Math.random()*t.length),l={questionIndex:a,selectedOption:t[n],type:s.type};e.push(l)}else{let t={questionIndex:a,selectedOption:s.options[0],type:s.type};e.push(t)}}}),f((0,p.E1)({attemptId:j.id,answers:e,token:z})).then(()=>{M(!0),T(!1)})},F=()=>{if(q&&!$){I(!0);return}f((0,p.GV)()),f((0,p.y)(!1)),M(!1),A(0),a()};return N?(0,t.jsx)(i.lG,{open:s,onOpenChange:F,children:(0,t.jsx)(i.Cf,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(m.A,{className:"h-8 w-8 animate-spin text-primary mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Loading quiz..."})]})})}):v?(0,t.jsx)(i.lG,{open:s,onOpenChange:F,children:(0,t.jsx)(i.Cf,{className:"sm:max-w-[600px]",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(o.Fc,{variant:"destructive",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:v})]}),(0,t.jsx)(d.$,{onClick:F,className:"w-full",children:"Close"})]})})}):$&&j?(0,t.jsx)(i.lG,{open:s,onOpenChange:F,children:(0,t.jsx)(i.Cf,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:(0,t.jsx)(R,{attempt:j,onClose:F})})}):O?(0,t.jsx)(i.lG,{open:s,onOpenChange:()=>{},children:(0,t.jsx)(i.Cf,{className:"sm:max-w-[500px]",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(o.Fc,{variant:"destructive",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:"You have an active quiz. If you leave now, your progress will be lost and the quiz will be automatically submitted with random answers for unanswered questions."})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>I(!1),children:"Continue Quiz"}),(0,t.jsx)(d.$,{variant:"destructive",onClick:()=>{P(),I(!1),E&&(G(null),setTimeout(()=>x.push(E),0))},children:"Exit and Submit"})]})]})})}):Q?(0,t.jsx)(i.lG,{open:s,onOpenChange:()=>{},children:(0,t.jsx)(i.Cf,{className:"sm:max-w-[500px]",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(o.Fc,{children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:"You have unanswered questions. If you submit now, these questions will be marked as incorrect."})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>T(!1),children:"Continue Quiz"}),(0,t.jsx)(d.$,{onClick:L,children:"Submit Anyway"})]})]})})}):j?(0,t.jsx)(i.lG,{open:s,onOpenChange:F,children:(0,t.jsx)(i.Cf,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:j.quiz?.title}),(0,t.jsx)("p",{className:"text-muted-foreground",children:j.quiz?.description})]}),(0,t.jsx)(S,{onTimeExpired:P}),(0,t.jsx)(c.w,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(o.Fc,{children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:j.quiz?.instructions||"Answer all questions. Your progress is saved automatically."})]}),j.questions[C]&&(0,t.jsx)(w,{question:j.questions[C],questionIndex:C,currentAnswer:(e=>{let s=y.find(s=>s.questionIndex===e);return s?.selectedOption})(C)}),(0,t.jsx)(b,{currentQuestion:C,totalQuestions:j.questions.length,onPrevious:()=>{C>0&&A(C-1)},onNext:()=>{j&&C<j.questions.length-1&&A(C+1)},onSubmit:()=>{if(j&&z){if(y.length<j.questions.length){T(!0);return}L()}},isSubmitting:g})]})]})})}):null}}};