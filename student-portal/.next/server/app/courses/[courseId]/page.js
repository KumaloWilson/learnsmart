(()=>{var e={};e.id=816,e.ids=[816],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15400:(e,s,r)=>{"use strict";r.d(s,{CourseDetails:()=>eG});var t=r(60687),a=r(43210),l=r(12317);r(70281);var i=r(85910),n=r(55192),c=r(59821),d=r(71463),o=r(3018),m=r(43649),x=r(48730),u=r(27351),h=r(82080),j=r(10022),p=r(5336),f=r(2943),N=r(40228),v=r(78377),g=r(58869),w=r(62688);let b=(0,w.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),y=(0,w.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);function A({courseDetails:e}){let{course:s,virtualClasses:r}=e,a=r.reduce((e,s)=>{let r=s.lecturerProfile.id;return e.some(e=>e.id===r)||e.push(s.lecturerProfile),e},[]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Course Information"}),(0,t.jsxs)(n.BT,{children:["Details about ",s.name]})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Program"}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.program.name," (",s.program.code,")"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Course Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.E,{variant:"outline",className:"mr-2",children:"Code"}),(0,t.jsx)("span",{className:"text-sm",children:s.code})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.E,{variant:"outline",className:"mr-2",children:"Level"}),(0,t.jsx)("span",{className:"text-sm",children:s.level})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.E,{variant:"outline",className:"mr-2",children:"Credit Hours"}),(0,t.jsx)("span",{className:"text-sm",children:s.creditHours})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.E,{variant:"outline",className:"mr-2",children:"Program Level"}),(0,t.jsx)("span",{className:"text-sm capitalize",children:s.program.level})]})]})]})]})]}),a.length>0&&(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Course Lecturers"}),(0,t.jsx)(n.BT,{children:"Instructors for this course"})]}),(0,t.jsx)(n.Wu,{className:"space-y-4",children:a.map(e=>(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 text-muted-foreground mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-sm font-medium",children:[e.title," ",e.user.firstName," ",e.user.lastName]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.specialization})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.officeLocation})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.officeHours})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.phoneNumber})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.bio}),(0,t.jsx)(v.w,{className:"my-2"})]},e.id))})]})]})}var C=r(11273),R=r(9510),P=r(98599),T=r(70569),k=r(65551),I=r(14163),D=r(66156),E=r(46059),q=r(96963),z="Collapsible",[B,_]=(0,C.A)(z),[O,Z]=B(z),G=a.forwardRef((e,s)=>{let{__scopeCollapsible:r,open:l,defaultOpen:i,disabled:n,onOpenChange:c,...d}=e,[o=!1,m]=(0,k.i)({prop:l,defaultProp:i,onChange:c});return(0,t.jsx)(O,{scope:r,disabled:n,contentId:(0,q.B)(),open:o,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),children:(0,t.jsx)(I.sG.div,{"data-state":U(o),"data-disabled":n?"":void 0,...d,ref:s})})});G.displayName=z;var S="CollapsibleTrigger",L=a.forwardRef((e,s)=>{let{__scopeCollapsible:r,...a}=e,l=Z(S,r);return(0,t.jsx)(I.sG.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":U(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...a,ref:s,onClick:(0,T.m)(e.onClick,l.onOpenToggle)})});L.displayName=S;var H="CollapsibleContent",M=a.forwardRef((e,s)=>{let{forceMount:r,...a}=e,l=Z(H,e.__scopeCollapsible);return(0,t.jsx)(E.C,{present:r||l.open,children:({present:e})=>(0,t.jsx)(F,{...a,ref:s,present:e})})});M.displayName=H;var F=a.forwardRef((e,s)=>{let{__scopeCollapsible:r,present:l,children:i,...n}=e,c=Z(H,r),[d,o]=a.useState(l),m=a.useRef(null),x=(0,P.s)(s,m),u=a.useRef(0),h=u.current,j=a.useRef(0),p=j.current,f=c.open||d,N=a.useRef(f),v=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,D.N)(()=>{let e=m.current;if(e){v.current=v.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let s=e.getBoundingClientRect();u.current=s.height,j.current=s.width,N.current||(e.style.transitionDuration=v.current.transitionDuration,e.style.animationName=v.current.animationName),o(l)}},[c.open,l]),(0,t.jsx)(I.sG.div,{"data-state":U(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!f,...n,ref:x,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:f&&i})});function U(e){return e?"open":"closed"}var W=r(43),$="Accordion",J=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[X,Q,Y]=(0,R.N)($),[K,V]=(0,C.A)($,[Y,_]),ee=_(),es=a.forwardRef((e,s)=>{let{type:r,...a}=e;return(0,t.jsx)(X.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,t.jsx)(en,{...a,ref:s}):(0,t.jsx)(ei,{...a,ref:s})})});es.displayName=$;var[er,et]=K($),[ea,el]=K($,{collapsible:!1}),ei=a.forwardRef((e,s)=>{let{value:r,defaultValue:l,onValueChange:i=()=>{},collapsible:n=!1,...c}=e,[d,o]=(0,k.i)({prop:r,defaultProp:l,onChange:i});return(0,t.jsx)(er,{scope:e.__scopeAccordion,value:d?[d]:[],onItemOpen:o,onItemClose:a.useCallback(()=>n&&o(""),[n,o]),children:(0,t.jsx)(ea,{scope:e.__scopeAccordion,collapsible:n,children:(0,t.jsx)(eo,{...c,ref:s})})})}),en=a.forwardRef((e,s)=>{let{value:r,defaultValue:l,onValueChange:i=()=>{},...n}=e,[c=[],d]=(0,k.i)({prop:r,defaultProp:l,onChange:i}),o=a.useCallback(e=>d((s=[])=>[...s,e]),[d]),m=a.useCallback(e=>d((s=[])=>s.filter(s=>s!==e)),[d]);return(0,t.jsx)(er,{scope:e.__scopeAccordion,value:c,onItemOpen:o,onItemClose:m,children:(0,t.jsx)(ea,{scope:e.__scopeAccordion,collapsible:!0,children:(0,t.jsx)(eo,{...n,ref:s})})})}),[ec,ed]=K($),eo=a.forwardRef((e,s)=>{let{__scopeAccordion:r,disabled:l,dir:i,orientation:n="vertical",...c}=e,d=a.useRef(null),o=(0,P.s)(d,s),m=Q(r),x="ltr"===(0,W.jH)(i),u=(0,T.m)(e.onKeyDown,e=>{if(!J.includes(e.key))return;let s=e.target,r=m().filter(e=>!e.ref.current?.disabled),t=r.findIndex(e=>e.ref.current===s),a=r.length;if(-1===t)return;e.preventDefault();let l=t,i=a-1,c=()=>{(l=t+1)>i&&(l=0)},d=()=>{(l=t-1)<0&&(l=i)};switch(e.key){case"Home":l=0;break;case"End":l=i;break;case"ArrowRight":"horizontal"===n&&(x?c():d());break;case"ArrowDown":"vertical"===n&&c();break;case"ArrowLeft":"horizontal"===n&&(x?d():c());break;case"ArrowUp":"vertical"===n&&d()}let o=l%a;r[o].ref.current?.focus()});return(0,t.jsx)(ec,{scope:r,disabled:l,direction:i,orientation:n,children:(0,t.jsx)(X.Slot,{scope:r,children:(0,t.jsx)(I.sG.div,{...c,"data-orientation":n,ref:o,onKeyDown:l?void 0:u})})})}),em="AccordionItem",[ex,eu]=K(em),eh=a.forwardRef((e,s)=>{let{__scopeAccordion:r,value:a,...l}=e,i=ed(em,r),n=et(em,r),c=ee(r),d=(0,q.B)(),o=a&&n.value.includes(a)||!1,m=i.disabled||e.disabled;return(0,t.jsx)(ex,{scope:r,open:o,disabled:m,triggerId:d,children:(0,t.jsx)(G,{"data-orientation":i.orientation,"data-state":ew(o),...c,...l,ref:s,disabled:m,open:o,onOpenChange:e=>{e?n.onItemOpen(a):n.onItemClose(a)}})})});eh.displayName=em;var ej="AccordionHeader",ep=a.forwardRef((e,s)=>{let{__scopeAccordion:r,...a}=e,l=ed($,r),i=eu(ej,r);return(0,t.jsx)(I.sG.h3,{"data-orientation":l.orientation,"data-state":ew(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:s})});ep.displayName=ej;var ef="AccordionTrigger",eN=a.forwardRef((e,s)=>{let{__scopeAccordion:r,...a}=e,l=ed($,r),i=eu(ef,r),n=el(ef,r),c=ee(r);return(0,t.jsx)(X.ItemSlot,{scope:r,children:(0,t.jsx)(L,{"aria-disabled":i.open&&!n.collapsible||void 0,"data-orientation":l.orientation,id:i.triggerId,...c,...a,ref:s})})});eN.displayName=ef;var ev="AccordionContent",eg=a.forwardRef((e,s)=>{let{__scopeAccordion:r,...a}=e,l=ed($,r),i=eu(ev,r),n=ee(r);return(0,t.jsx)(M,{role:"region","aria-labelledby":i.triggerId,"data-orientation":l.orientation,...n,...a,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ew(e){return e?"open":"closed"}eg.displayName=ev;var eb=r(78272),ey=r(96241);let eA=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(eh,{ref:r,className:(0,ey.cn)("border-b",e),...s}));eA.displayName="AccordionItem";let eC=a.forwardRef(({className:e,children:s,...r},a)=>(0,t.jsx)(ep,{className:"flex",children:(0,t.jsxs)(eN,{ref:a,className:(0,ey.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[s,(0,t.jsx)(eb.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));eC.displayName=eN.displayName;let eR=a.forwardRef(({className:e,children:s,...r},a)=>(0,t.jsx)(eg,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,t.jsx)("div",{className:(0,ey.cn)("pb-4 pt-0",e),children:s})}));eR.displayName=eg.displayName;var eP=r(37360);function eT({topics:e}){if(!e.length)return(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Course Topics"}),(0,t.jsx)(n.BT,{children:"No topics available for this course yet."})]})});let s=[...e].sort((e,s)=>e.orderIndex-s.orderIndex);return(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Course Topics"}),(0,t.jsx)(n.BT,{children:"Topics and learning objectives for this course"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(es,{type:"single",collapsible:!0,className:"w-full",children:s.map((e,s)=>(0,t.jsxs)(eA,{value:e.id,children:[(0,t.jsx)(eC,{className:"hover:no-underline",children:(0,t.jsxs)("div",{className:"flex items-center text-left",children:[(0,t.jsxs)("span",{className:"font-medium",children:[s+1,". ",e.title]}),(0,t.jsx)(c.E,{variant:"outline",className:"ml-2 capitalize",children:e.difficulty})]})}),(0,t.jsxs)(eR,{className:"space-y-4 pt-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["Duration: ",e.durationHours," hours"]})]}),e.learningObjectives.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium flex items-center",children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Learning Objectives"]}),(0,t.jsx)("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 pl-2",children:e.learningObjectives.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]}),e.keywords.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium flex items-center",children:[(0,t.jsx)(eP.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Keywords"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.keywords.map((e,s)=>(0,t.jsx)(c.E,{variant:"secondary",children:e},s))})]})]})]},e.id))})})]})}var ek=r(24934),eI=r(83632);function eD({quiz:e,isCompleted:s=!1,score:r=null,isPassed:l=null}){let[i,d]=(0,a.useState)(!1),o=new Date(e.startDate),u=new Date(e.endDate),h=new Date,p=h>=o&&h<=u&&e.isActive,f={month:"short",day:"numeric",year:"numeric"},v=o.toLocaleDateString(void 0,f),g=u.toLocaleDateString(void 0,f);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ZB,{children:e.title}),(0,t.jsx)(n.BT,{children:e.description})]}),s?(0,t.jsx)(c.E,{variant:l?"default":"destructive",children:l?"Passed":"Failed"}):(0,t.jsx)(c.E,{variant:p?"default":"secondary",children:p?"Available":"Unavailable"})]})}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm",children:[e.timeLimit," minutes"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm",children:[e.numberOfQuestions," questions"]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm",children:[v," - ",g]})]})]}),s&&null!==r&&(0,t.jsx)("div",{className:"bg-muted p-3 rounded-md",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Your Score:"}),(0,t.jsxs)("span",{className:"font-bold",children:[r," / ",e.totalMarks," (",Math.round(r/e.totalMarks*100),"%)"]})]})}),!p&&!s&&(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-amber-500 mt-0.5 mr-2"}),(0,t.jsx)("div",{className:"text-sm text-amber-800",children:h<o?`This quiz will be available from ${v}.`:`This quiz is no longer available. It ended on ${g}.`})]})})]}),(0,t.jsx)(n.wL,{children:(0,t.jsx)(ek.$,{onClick:()=>d(!0),disabled:!p&&!s,variant:s?"outline":"default",className:"w-full",children:s?"View Results":"Start Quiz"})})]}),(0,t.jsx)(eI.Z,{quizId:e.id,isOpen:i,onClose:()=>d(!1)})]})}function eE({courseId:e,quizzes:s}){(0,l.j)();let{studentProfile:r,accessToken:a}=(0,l.G)(e=>e.auth),{attempts:i,isLoading:c,error:x}=(0,l.G)(e=>e.quiz);if(c)return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(d.E,{className:"h-8 w-48"}),(0,t.jsx)(d.E,{className:"h-4 w-full max-w-md"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Array.from({length:2}).map((e,s)=>(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(d.E,{className:"h-6 w-48"}),(0,t.jsx)(d.E,{className:"h-4 w-64 mt-2"})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(d.E,{className:"h-4 w-full"},s))}),(0,t.jsx)(d.E,{className:"h-10 w-full"})]})]},s))})]});if(x)return(0,t.jsxs)(o.Fc,{variant:"destructive",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:x})]});let u=s.filter(s=>s.courseId===e);return 0===u.length?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Quizzes"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No quizzes are available for this course at this time."})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Quizzes"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Complete these quizzes to test your knowledge and track your progress."}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:u.map(e=>{let s=i.filter(s=>s.quizId===e.id),r=s.length>0?s.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime())[0]:null,a=r?.status==="completed"||r?.status==="timed_out";return(0,t.jsx)(eD,{quiz:e,isCompleted:a,score:r?.score,isPassed:r?.isPassed},e.id)})})]})}r(49691);var eq=r(90494);function ez({virtualClasses:e}){if(!e.length)return(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Virtual Classes"}),(0,t.jsx)(n.BT,{children:"No virtual classes scheduled for this course yet."})]})});let s=new Date,r=[...e].sort((e,r)=>{let t=new Date(e.scheduledStartTime),a=new Date(r.scheduledStartTime),l=t<s,i=a<s;return l&&!i?1:!l&&i?-1:t.getTime()-a.getTime()});return(0,t.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,t.jsx)(eq.s,{virtualClass:e},e.id))})}var eB=r(57769),e_=r(96752),eO=r(35071);function eZ({attendanceRecords:e}){if(!e.length)return(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Attendance"}),(0,t.jsx)(n.BT,{children:"No attendance records available for this course yet."})]})});let s=[...e].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()),r=s.length,a=s.filter(e=>e.isPresent).length,l=r>0?a/r*100:0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Attendance Summary"}),(0,t.jsx)(n.BT,{children:"Your attendance record for this course"})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[l.toFixed(0),"%"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Attended ",a," out of ",r," classes"]})]}),(0,t.jsx)(c.E,{className:`${l>=80?"bg-green-500":l>=60?"bg-yellow-500":"bg-red-500"}`,children:l>=80?"Excellent":l>=60?"Good":"Poor"})]}),(0,t.jsx)(eB.k,{value:l,className:"h-2"})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Attendance Records"}),(0,t.jsx)(n.BT,{children:"Detailed attendance for each class"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)(e_.XI,{children:[(0,t.jsx)(e_.A0,{children:(0,t.jsxs)(e_.Hj,{children:[(0,t.jsx)(e_.nd,{children:"Date"}),(0,t.jsx)(e_.nd,{children:"Topic"}),(0,t.jsx)(e_.nd,{children:"Notes"}),(0,t.jsx)(e_.nd,{children:"Status"})]})}),(0,t.jsx)(e_.BF,{children:s.map(e=>(0,t.jsxs)(e_.Hj,{children:[(0,t.jsx)(e_.nA,{className:"font-medium",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)(e_.nA,{children:e.topic}),(0,t.jsx)(e_.nA,{className:"max-w-xs truncate",children:e.notes}),(0,t.jsx)(e_.nA,{children:e.isPresent?(0,t.jsxs)("div",{className:"flex items-center text-green-500",children:[(0,t.jsx)(p.A,{className:"mr-1 h-4 w-4"}),(0,t.jsx)("span",{children:"Present"})]}):(0,t.jsxs)("div",{className:"flex items-center text-red-500",children:[(0,t.jsx)(eO.A,{className:"mr-1 h-4 w-4"}),(0,t.jsx)("span",{children:"Absent"})]})})]},e.id))})]})})]})]})}function eG({courseId:e,semesterId:s}){(0,l.j)();let{studentProfile:r,accessToken:d}=(0,l.G)(e=>e.auth),{currentCourseDetails:v,currentCourseTopics:g,isLoadingDetails:w,isLoadingTopics:b,error:y}=(0,l.G)(e=>e.courses),[C,R]=(0,a.useState)("overview");if(w||b||!r)return(0,t.jsx)(eS,{});if(y)return(0,t.jsxs)(o.Fc,{variant:"destructive",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:y})]});if(!v)return(0,t.jsxs)(o.Fc,{children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(o.TN,{children:"Course details not found."})]});let{course:P,quizzes:T,virtualClasses:k,attendance:I}=v;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:P.name}),(0,t.jsx)(c.E,{variant:"outline",className:"text-base px-3 py-1",children:P.code})]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:P.description})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Credit Hours"}),(0,t.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:P.creditHours})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Level"}),(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:P.level})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:"Program"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-md font-bold",children:P.program.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:P.program.code})]})]})]}),(0,t.jsxs)(i.tU,{value:C,onValueChange:R,className:"space-y-4",children:[(0,t.jsxs)(i.j7,{className:"grid grid-cols-2 md:grid-cols-5",children:[(0,t.jsxs)(i.Xi,{value:"overview",className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Overview"})]}),(0,t.jsxs)(i.Xi,{value:"topics",className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Topics"})]}),(0,t.jsxs)(i.Xi,{value:"quizzes",className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Quizzes"})]}),(0,t.jsxs)(i.Xi,{value:"classes",className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Classes"})]}),(0,t.jsxs)(i.Xi,{value:"attendance",className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Attendance"})]})]}),(0,t.jsx)(i.av,{value:"overview",className:"space-y-4",children:(0,t.jsx)(A,{courseDetails:v})}),(0,t.jsx)(i.av,{value:"topics",className:"space-y-4",children:(0,t.jsx)(eT,{topics:g})}),(0,t.jsx)(i.av,{value:"quizzes",className:"space-y-4",children:(0,t.jsx)(eE,{quizzes:T,quizAttempts:v.quizAttempts})}),(0,t.jsx)(i.av,{value:"classes",className:"space-y-4",children:(0,t.jsx)(ez,{virtualClasses:k})}),(0,t.jsx)(i.av,{value:"attendance",className:"space-y-4",children:(0,t.jsx)(eZ,{attendanceRecords:I})})]})]})}function eS(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(d.E,{className:"h-10 w-64"}),(0,t.jsx)(d.E,{className:"h-8 w-24"})]}),(0,t.jsx)(d.E,{className:"h-4 w-full"})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.E,{className:"h-4 w-24"}),(0,t.jsx)(d.E,{className:"h-4 w-4 rounded-full"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(d.E,{className:"h-8 w-16"})})]},s))}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(d.E,{className:"h-10 w-full"}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(d.E,{className:"h-6 w-48"}),(0,t.jsx)(d.E,{className:"h-4 w-64"})]}),(0,t.jsx)(n.Wu,{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(d.E,{className:"h-24 w-full"},s))})]})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25479:(e,s,r)=>{"use strict";r.d(s,{CourseDetails:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call CourseDetails() from the server but CourseDetails is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/watkay/ReactProjects/learn-smart/student-portal/features/courses/screens/course-details.tsx","CourseDetails")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33203:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(37413),a=r(39916),l=r(44999),i=r(61883),n=r(25479);async function c({params:e,searchParams:s}){(await (0,l.UL)()).has("accessToken")||(0,a.redirect)("/login");let{courseId:r}=e,c=s.semesterId;return r&&c||(0,a.redirect)("/courses"),(0,t.jsx)(i.MainLayout,{children:(0,t.jsx)(n.CourseDetails,{courseId:r,semesterId:c})})}},33873:e=>{"use strict";e.exports=require("path")},33979:(e,s,r)=>{Promise.resolve().then(r.bind(r,61883)),Promise.resolve().then(r.bind(r,25479))},37360:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61956:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var t=r(65239),a=r(48088),l=r(88170),i=r.n(l),n=r(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let d={children:["",{children:["courses",{children:["[courseId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,33203)),"/home/watkay/ReactProjects/learn-smart/student-portal/app/courses/[courseId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/home/watkay/ReactProjects/learn-smart/student-portal/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/home/watkay/ReactProjects/learn-smart/student-portal/app/courses/[courseId]/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/courses/[courseId]/page",pathname:"/courses/[courseId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78272:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87123:(e,s,r)=>{Promise.resolve().then(r.bind(r,95214)),Promise.resolve().then(r.bind(r,15400))},90494:(e,s,r)=>{"use strict";r.d(s,{s:()=>v});var t=r(60687),a=r(43210),l=r(12317),i=r(95019),n=r(55192),c=r(59821),d=r(24934),o=r(40228),m=r(48730),x=r(58869),u=r(2943),h=r(43649),j=r(25334),p=r(3018),f=r(70333),N=function(e){return e.UPCOMING="upcoming",e.JOINABLE="joinable",e.ONGOING="ongoing",e.PAST="past",e}({});function v({virtualClass:e,showCourse:s=!1}){let r=(0,l.j)(),{studentProfile:v,accessToken:g}=(0,l.G)(e=>e.auth),{isJoining:w,joinError:b}=(0,l.G)(e=>e.virtualClasses),{toast:y}=(0,f.dj)(),[A,C]=(0,a.useState)(N.UPCOMING),[R,P]=(0,a.useState)(""),T=new Date(e.scheduledStartTime),k=new Date(e.scheduledEndTime),I={hour:"2-digit",minute:"2-digit"},D=T.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"}),E=T.toLocaleTimeString(void 0,I),q=k.toLocaleTimeString(void 0,I),z=async()=>{if(!v?.id||!g){y({title:"Authentication Error",description:"You must be logged in to join a class",variant:"destructive"});return}let s=await r((0,i.od)({studentProfileId:v.id,virtualClassId:e.id,token:g}));i.od.fulfilled.match(s)&&(window.open(e.meetingLink,"_blank"),y({title:"Joined Class",description:"You have successfully joined the virtual class"}))},B=(()=>{switch(A){case N.JOINABLE:return{variant:"default",text:"Joinable Now"};case N.ONGOING:return{variant:"default",text:"Ongoing"};case N.PAST:return{variant:"outline",text:"Past"};case N.UPCOMING:default:return{variant:"secondary",text:"Upcoming"}}})();return(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ZB,{children:e.title}),(0,t.jsx)(n.BT,{children:s&&e.course?`${e.course.name} (${e.course.code})`:e.description})]}),(0,t.jsx)(c.E,{variant:B.variant,children:B.text})]})}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:D})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm",children:[E," - ",q]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm",children:[e.lecturerProfile.title," ",e.lecturerProfile.user.firstName," ",e.lecturerProfile.user.lastName]})]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["Platform: ",e.meetingConfig.platform," â€¢ Passcode: ",e.meetingConfig.passcode]})]}),R&&(0,t.jsx)("div",{className:`text-sm font-medium ${A===N.JOINABLE||A===N.ONGOING?"text-primary":"text-muted-foreground"}`,children:R}),b&&(0,t.jsxs)(p.Fc,{variant:"destructive",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),(0,t.jsx)(p.TN,{children:b})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[e.attended&&A===N.PAST&&(0,t.jsx)(c.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Attended"}),(0,t.jsx)("div",{className:"flex-grow"}),(0,t.jsx)(d.$,{disabled:A===N.PAST||A===N.UPCOMING&&!e.recordingUrl||w,variant:A===N.PAST&&e.recordingUrl?"outline":"default",onClick:z,className:"ml-auto",children:w?"Joining...":A===N.PAST?e.recordingUrl?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"View Recording"}),(0,t.jsx)(j.A,{className:"ml-1 h-3 w-3"})]}):"Recording Not Available":A===N.JOINABLE||A===N.ONGOING?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"Join Now"}),(0,t.jsx)(j.A,{className:"ml-1 h-3 w-3"})]}):"Not Available Yet"})]})]})]})}},94735:e=>{"use strict";e.exports=require("events")},96752:(e,s,r)=>{"use strict";r.d(s,{A0:()=>n,BF:()=>c,Hj:()=>d,XI:()=>i,nA:()=>m,nd:()=>o});var t=r(60687),a=r(43210),l=r(96241);let i=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})}));i.displayName="Table";let n=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",e),...s}));n.displayName="TableHeader";let c=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s}));c.displayName="TableBody",a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let d=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));d.displayName="TableRow";let o=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("th",{ref:r,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableHead";let m=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("td",{ref:r,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableCell",a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[111,408,292,85,349,440,419,632],()=>r(61956));module.exports=t})();