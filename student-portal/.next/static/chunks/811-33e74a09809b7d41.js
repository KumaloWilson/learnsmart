"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{25811:(e,r,s)=>{s.d(r,{MainLayout:()=>R});var a=s(95155),t=s(12115),n=s(35695),o=s(6874),c=s.n(o),l=s(53999),i=s(73783),d=s(5040),u=s(48623),m=s(9803),f=s(50741),h=s(57434),x=s(69074),g=s(87949),p=s(70463),v=s(49376);function j(){return(0,a.jsxs)(c(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-purple-600",children:(0,a.jsx)(v.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xl font-bold text-foreground",children:"LearnSmart"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"AI-Powered Learning"})]})]})}function N(){let e=(0,n.usePathname)(),r=[{name:"Dashboard",href:"/",icon:i.A},{name:"Courses",href:"/courses",icon:d.A},{name:"Assessments",href:"/assessments",icon:u.A},{name:"Virtual Classes",href:"/virtual-classes",icon:m.A}],s=[{name:"Performance",href:"/performance",icon:f.A},{name:"Course Materials",href:"/course-materials",icon:h.A},{name:"Attendance",href:"/attendance",icon:x.A}],t=[{name:"Academic Records",href:"/academic-records",icon:g.A},{name:"AI Recommendations",href:"/ai-recommendations",icon:p.A}];return(0,a.jsxs)("div",{className:"flex flex-col space-y-6 py-4",children:[(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)(j,{})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"px-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Main"}),(0,a.jsx)("nav",{className:"mt-2 space-y-1",children:r.map(r=>(0,a.jsx)(b,{href:r.href,icon:r.icon,name:r.name,isActive:e===r.href},r.href))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"px-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Learning"}),(0,a.jsx)("nav",{className:"mt-2 space-y-1",children:s.map(r=>(0,a.jsx)(b,{href:r.href,icon:r.icon,name:r.name,isActive:e===r.href},r.href))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"px-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Records"}),(0,a.jsx)("nav",{className:"mt-2 space-y-1",children:t.map(r=>(0,a.jsx)(b,{href:r.href,icon:r.icon,name:r.name,isActive:e===r.href},r.href))})]})]})]})}function b(e){let{href:r,icon:s,name:t,isActive:n}=e;return(0,a.jsxs)(c(),{href:r,className:(0,l.cn)("flex items-center px-4 py-2 text-sm font-medium rounded-md",n?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,a.jsx)(s,{className:(0,l.cn)("mr-3 h-5 w-5",n?"text-primary":"text-muted-foreground")}),t]})}var y=s(45527),k=s(77776),w=s(85977);let A=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(w.bL,{ref:r,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});A.displayName=w.bL.displayName;let T=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(w._V,{ref:r,className:(0,l.cn)("aspect-square h-full w-full",s),...t})});T.displayName=w._V.displayName;let S=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(w.H4,{ref:r,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})});S.displayName=w.H4.displayName;var E=s(381),I=s(34835),P=s(97168),L=s(27737);function C(){let{user:e}=(0,y.G)(e=>e.auth),r=(0,y.j)(),s=(0,n.useRouter)();if(!e)return(0,a.jsx)("div",{className:"border-t border-border p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(L.E,{className:"h-8 w-8 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(L.E,{className:"h-4 w-24"}),(0,a.jsx)(L.E,{className:"mt-1 h-3 w-16"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(L.E,{className:"h-8 w-8 rounded-md"}),(0,a.jsx)(L.E,{className:"h-8 w-8 rounded-md"})]})]})});let t="".concat(e.firstName.charAt(0)).concat(e.lastName.charAt(0));return(0,a.jsx)("div",{className:"border-t border-border p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(A,{children:[(0,a.jsx)(S,{children:t}),(0,a.jsx)(T,{src:"/placeholder.svg?height=40&width=40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:e.role})]})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(P.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(E.A,{className:"h-4 w-4"})}),(0,a.jsx)(P.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{r((0,k.ri)()),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",s.push("/login")},children:(0,a.jsx)(I.A,{className:"h-4 w-4"})})]})]})})}function R(e){let{children:r}=e,{isAuthenticated:s}=(0,y.G)(e=>e.auth),o=(0,n.useRouter)();return(0,t.useEffect)(()=>{s||document.cookie.includes("accessToken=")||o.push("/login")},[s,o]),(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsx)("div",{className:"w-64 border-r border-border",children:(0,a.jsxs)("div",{className:"flex h-full flex-col justify-between",children:[(0,a.jsx)(N,{}),(0,a.jsx)(C,{})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-6",children:r})]})}},27737:(e,r,s)=>{s.d(r,{E:()=>n});var a=s(95155),t=s(53999);function n(e){let{className:r,...s}=e;return(0,a.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",r),...s})}},45527:(e,r,s)=>{s.d(r,{G:()=>n,j:()=>t});var a=s(34540);let t=()=>(0,a.wA)(),n=a.d4},53999:(e,r,s)=>{s.d(r,{cn:()=>n});var a=s(52596),t=s(39688);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}},77776:(e,r,s)=>{s.d(r,{Ay:()=>m,iD:()=>l,ri:()=>i});var a=s(51990),t=s(23464);let n={async login(e){try{return(await t.A.post("".concat("https://learnsmart-6i9q.onrender.com/api","/auth/login"),e)).data}catch(e){if(t.A.isAxiosError(e)){var r,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.message)||"Login failed")}throw Error("An unexpected error occurred")}},logout(){localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("studentProfile"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},saveUserData(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("studentProfile",JSON.stringify(e.studentProfile)),document.cookie="accessToken=".concat(e.accessToken,"; path=/; max-age=2592000")},getUserData(){let e=localStorage.getItem("user"),r=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken"),a=localStorage.getItem("studentProfile");return e&&r&&s&&a?{user:JSON.parse(e),accessToken:r,refreshToken:s,studentProfile:JSON.parse(a)}:null}},o=n.getUserData(),c={user:(null==o?void 0:o.user)||null,studentProfile:(null==o?void 0:o.studentProfile)||null,accessToken:(null==o?void 0:o.accessToken)||null,refreshToken:(null==o?void 0:o.refreshToken)||null,isAuthenticated:!!o,isLoading:!1,error:null},l=(0,a.zD)("auth/login",async(e,r)=>{let{rejectWithValue:s}=r;try{let r=await n.login(e);return n.saveUserData(r),r}catch(e){if(e instanceof Error)return s(e.message);return s("An unexpected error occurred")}}),i=(0,a.zD)("auth/logout",async()=>{n.logout()}),d=(0,a.Z0)({name:"auth",initialState:c,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload.user,e.studentProfile=r.payload.studentProfile,e.accessToken=r.payload.accessToken,e.refreshToken=r.payload.refreshToken}).addCase(l.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(i.fulfilled,e=>{e.isAuthenticated=!1,e.user=null,e.studentProfile=null,e.accessToken=null,e.refreshToken=null})}}),{clearError:u}=d.actions,m=d.reducer},97168:(e,r,s)=>{s.d(r,{$:()=>i,r:()=>l});var a=s(95155),t=s(12115),n=s(99708),o=s(74466),c=s(53999);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=t.forwardRef((e,r)=>{let{className:s,variant:t,size:o,asChild:i=!1,...d}=e,u=i?n.DX:"button";return(0,a.jsx)(u,{className:(0,c.cn)(l({variant:t,size:o,className:s})),ref:r,...d})});i.displayName="Button"}}]);