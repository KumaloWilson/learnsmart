(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4584:(e,r,t)=>{"use strict";t.d(r,{A:()=>i,H:()=>s});var a=t(51990),o=t(23464);let n={async getDashboardData(e,r){try{return(await o.A.get("".concat("https://learnsmart-6i9q.onrender.com/api","/student-portal/").concat(e,"/dashboard"),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch dashboard data")}throw Error("An unexpected error occurred")}}},s=(0,a.zD)("dashboard/fetchData",async(e,r)=>{let{studentProfileId:t,token:a}=e,{rejectWithValue:o}=r;try{return await n.getDashboardData(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unexpected error occurred")}}),i=(0,a.Z0)({name:"dashboard",initialState:{data:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,r)=>{e.isLoading=!1,e.data=r.payload}).addCase(s.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}).reducer},13680:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>f,RU:()=>i,cE:()=>d,El:()=>l,jy:()=>c,cr:()=>m,$w:()=>u});var a=t(51990),o=t(23464);let n="https://learnsmart-6i9q.onrender.com/api",s={async getRecommendations(e,r){try{return(await o.A.get("".concat(n,"/student-portal/").concat(e,"/recommendations"),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch recommendations")}throw Error("An unexpected error occurred")}},async generateRecommendations(e,r){try{return(await o.A.post("".concat(n,"/student-portal/generate-recommendations"),e,{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to generate recommendations")}throw Error("An unexpected error occurred")}},async markRecommendationAsViewed(e,r,t){try{await o.A.patch("".concat(n,"/student-portal/").concat(e,"/recommendation/").concat(r,"/view"),{},{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){if(o.A.isAxiosError(e)){var a,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to mark recommendation as viewed")}throw Error("An unexpected error occurred")}},async markRecommendationAsCompleted(e,r,t){try{await o.A.patch("".concat(n,"/student-portal/").concat(e,"/recommendation/").concat(r,"/complete"),{},{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){if(o.A.isAxiosError(e)){var a,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to mark recommendation as completed")}throw Error("An unexpected error occurred")}},async saveRecommendation(e,r,t){try{await o.A.patch("".concat(n,"/student-portal/").concat(e,"/recommendation/").concat(r,"/save"),{},{headers:{Authorization:"Bearer ".concat(t)}})}catch(e){if(o.A.isAxiosError(e)){var a,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to save recommendation")}throw Error("An unexpected error occurred")}},async rateRecommendation(e,r,t,a,s){try{await o.A.patch("".concat(n,"/student-portal/").concat(e,"/recommendation/").concat(r,"/rate"),{rating:t,feedback:a},{headers:{Authorization:"Bearer ".concat(s)}})}catch(e){if(o.A.isAxiosError(e)){var i,d;throw Error((null===(d=e.response)||void 0===d?void 0:null===(i=d.data)||void 0===i?void 0:i.message)||"Failed to rate recommendation")}throw Error("An unexpected error occurred")}}},i=(0,a.zD)("aiRecommendations/fetchAll",async(e,r)=>{let{studentProfileId:t,token:a}=e,{rejectWithValue:o}=r;try{return await s.getRecommendations(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unexpected error occurred")}}),d=(0,a.zD)("aiRecommendations/generate",async(e,r)=>{let{request:t,token:a}=e,{rejectWithValue:o}=r;try{return await s.generateRecommendations(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unexpected error occurred")}}),c=(0,a.zD)("aiRecommendations/markAsViewed",async(e,r)=>{let{studentProfileId:t,recommendationId:a,token:o}=e,{rejectWithValue:n}=r;try{return await s.markRecommendationAsViewed(t,a,o),{recommendationId:a}}catch(e){if(e instanceof Error)return n(e.message);return n("An unexpected error occurred")}}),l=(0,a.zD)("aiRecommendations/markAsCompleted",async(e,r)=>{let{studentProfileId:t,recommendationId:a,token:o}=e,{rejectWithValue:n}=r;try{return await s.markRecommendationAsCompleted(t,a,o),{recommendationId:a}}catch(e){if(e instanceof Error)return n(e.message);return n("An unexpected error occurred")}}),u=(0,a.zD)("aiRecommendations/save",async(e,r)=>{let{studentProfileId:t,recommendationId:a,token:o}=e,{rejectWithValue:n}=r;try{return await s.saveRecommendation(t,a,o),{recommendationId:a}}catch(e){if(e instanceof Error)return n(e.message);return n("An unexpected error occurred")}}),m=(0,a.zD)("aiRecommendations/rate",async(e,r)=>{let{studentProfileId:t,recommendationId:a,rating:o,feedback:n,token:i}=e,{rejectWithValue:d}=r;try{return await s.rateRecommendation(t,a,o,n,i),{recommendationId:a,rating:o,feedback:n}}catch(e){if(e instanceof Error)return d(e.message);return d("An unexpected error occurred")}}),p=(0,a.Z0)({name:"aiRecommendations",initialState:{recommendations:[],isLoading:!1,isGenerating:!1,error:null},reducers:{clearRecommendations:e=>{e.recommendations=[]}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.isLoading=!1,e.recommendations=r.payload}).addCase(i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(d.pending,e=>{e.isGenerating=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.isGenerating=!1;let t=new Set(e.recommendations.map(e=>e.id)),a=r.payload.filter(e=>!t.has(e.id));e.recommendations=[...e.recommendations,...a]}).addCase(d.rejected,(e,r)=>{e.isGenerating=!1,e.error=r.payload}).addCase(c.fulfilled,(e,r)=>{let t=e.recommendations.findIndex(e=>e.id===r.payload.recommendationId);-1!==t&&(e.recommendations[t].isViewed=!0,e.recommendations[t].viewedAt=new Date().toISOString())}).addCase(l.fulfilled,(e,r)=>{let t=e.recommendations.findIndex(e=>e.id===r.payload.recommendationId);-1!==t&&(e.recommendations[t].isCompleted=!0,e.recommendations[t].completedAt=new Date().toISOString())}).addCase(u.fulfilled,(e,r)=>{let t=e.recommendations.findIndex(e=>e.id===r.payload.recommendationId);-1!==t&&(e.recommendations[t].isSaved=!0)}).addCase(m.fulfilled,(e,r)=>{let t=e.recommendations.findIndex(e=>e.id===r.payload.recommendationId);-1!==t&&(e.recommendations[t].rating=r.payload.rating,e.recommendations[t].feedback=r.payload.feedback)})}}),{clearRecommendations:g}=p.actions,f=p.reducer},16471:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>C});var a=t(95155),o=t(12115);let n=0,s=new Map,i=e=>{if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,r)},d=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},c=[],l={toasts:[]};function u(e){l=d(l,e),c.forEach(e=>{e(l)})}function m(e){let{...r}=e,t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:t});return u({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var p=t(26621),g=t(74466),f=t(54416),h=t(53999);let v=p.Kq,A=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,a.jsx)(p.LM,{ref:r,className:(0,h.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...o})});A.displayName=p.LM.displayName;let y=(0,g.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w=o.forwardRef((e,r)=>{let{className:t,variant:o,...n}=e;return(0,a.jsx)(p.bL,{ref:r,className:(0,h.cn)(y({variant:o}),t),...n})});w.displayName=p.bL.displayName,o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,a.jsx)(p.rc,{ref:r,className:(0,h.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...o})}).displayName=p.rc.displayName;let x=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,a.jsx)(p.bm,{ref:r,className:(0,h.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...o,children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})});x.displayName=p.bm.displayName;let E=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,a.jsx)(p.hE,{ref:r,className:(0,h.cn)("text-sm font-semibold",t),...o})});E.displayName=p.hE.displayName;let z=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,a.jsx)(p.VY,{ref:r,className:(0,h.cn)("text-sm opacity-90",t),...o})});function C(){let{toasts:e}=function(){let[e,r]=o.useState(l);return o.useEffect(()=>(c.push(r),()=>{let e=c.indexOf(r);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}();return(0,a.jsxs)(v,{children:[e.map(function(e){let{id:r,title:t,description:o,action:n,...s}=e;return(0,a.jsxs)(w,{...s,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[t&&(0,a.jsx)(E,{children:t}),o&&(0,a.jsx)(z,{children:o})]}),n,(0,a.jsx)(x,{})]},r)}),(0,a.jsx)(A,{})]})}z.displayName=p.VY.displayName},17740:(e,r,t)=>{"use strict";t.d(r,{NT:()=>l,Ay:()=>u,Uz:()=>i,u9:()=>d});var a=t(51990),o=t(23464);let n="https://learnsmart-6i9q.onrender.com/api",s={async getCourseDetails(e,r,t,a){try{return(await o.A.get("".concat(n,"/student-portal/").concat(e,"/course/").concat(r,"/semester/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}})).data}catch(e){if(o.A.isAxiosError(e)){var s,i;throw Error((null===(i=e.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to fetch course details")}throw Error("An unexpected error occurred")}},async getCourseTopics(e,r,t,a){try{return(await o.A.get("".concat(n,"/student-portal/").concat(e,"/course-topics/course/").concat(r,"/semester/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}})).data}catch(e){if(o.A.isAxiosError(e)){var s,i;throw Error((null===(i=e.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to fetch course topics")}throw Error("An unexpected error occurred")}}},i=(0,a.zD)("courses/fetchDetails",async(e,r)=>{let{studentProfileId:t,courseId:a,semesterId:o,token:n}=e,{rejectWithValue:i}=r;try{return await s.getCourseDetails(t,a,o,n)}catch(e){if(e instanceof Error)return i(e.message);return i("An unexpected error occurred")}}),d=(0,a.zD)("courses/fetchTopics",async(e,r)=>{let{studentProfileId:t,courseId:a,semesterId:o,token:n}=e,{rejectWithValue:i}=r;try{return await s.getCourseTopics(t,a,o,n)}catch(e){if(e instanceof Error)return i(e.message);return i("An unexpected error occurred")}}),c=(0,a.Z0)({name:"courses",initialState:{currentCourseDetails:null,currentCourseTopics:[],isLoadingDetails:!1,isLoadingTopics:!1,error:null},reducers:{clearCourseDetails:e=>{e.currentCourseDetails=null,e.currentCourseTopics=[]}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoadingDetails=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.isLoadingDetails=!1,e.currentCourseDetails=r.payload}).addCase(i.rejected,(e,r)=>{e.isLoadingDetails=!1,e.error=r.payload}).addCase(d.pending,e=>{e.isLoadingTopics=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.isLoadingTopics=!1,e.currentCourseTopics=r.payload}).addCase(d.rejected,(e,r)=>{e.isLoadingTopics=!1,e.error=r.payload})}}),{clearCourseDetails:l}=c.actions,u=c.reducer},19174:(e,r,t)=>{"use strict";t.d(r,{Providers:()=>E});var a=t(95155),o=t(34540),n=t(51990),s=t(77776),i=t(4584),d=t(17740),c=t(38982);let l=(0,n.Z0)({name:"user",initialState:{currentUser:{id:"1",name:"John Doe",role:"Student",avatar:"/placeholder.svg?height=40&width=40"},isLoading:!1,error:null},reducers:{setUser:(e,r)=>{e.currentUser=r.payload},clearUser:e=>{e.currentUser=null}}}),{setUser:u,clearUser:m}=l.actions,p=l.reducer,g=(0,n.Z0)({name:"assessments",initialState:{assessments:[],isLoading:!1,error:null},reducers:{}}).reducer;var f=t(44069);let h=(0,n.Z0)({name:"courseMaterials",initialState:{materials:[],isLoading:!1,error:null},reducers:{}}).reducer;var v=t(93841),A=t(29193),y=t(13680),w=t(83367);let x=(0,n.U1)({reducer:{auth:s.Ay,dashboard:i.A,courses:d.Ay,virtualClasses:c.Ay,user:p,assessments:g,performance:f.Ay,courseMaterials:h,attendance:v.Ay,academicRecords:A.Ay,aiRecommendations:y.Ay,quiz:w.Ay}});function E(e){let{children:r}=e;return(0,a.jsx)(o.Kq,{store:x,children:r})}},19324:()=>{},26238:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,19324,23)),Promise.resolve().then(t.bind(t,99304)),Promise.resolve().then(t.bind(t,16471)),Promise.resolve().then(t.t.bind(t,65299,23)),Promise.resolve().then(t.bind(t,19174))},29193:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>c,yz:()=>s});var a=t(51990),o=t(23464);let n={async getAcademicRecords(e,r){try{return(await o.A.get("".concat("https://learnsmart-6i9q.onrender.com/api","/student-portal/").concat(e,"/academic-records"),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch academic records")}throw Error("An unexpected error occurred")}}},s=(0,a.zD)("academicRecords/fetchRecords",async(e,r)=>{let{studentProfileId:t,token:a}=e,{rejectWithValue:o}=r;try{return await n.getAcademicRecords(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unexpected error occurred")}}),i=(0,a.Z0)({name:"academicRecords",initialState:{records:[],isLoading:!1,error:null},reducers:{clearAcademicRecords:e=>{e.records=[]}},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,r)=>{e.isLoading=!1,e.records=r.payload}).addCase(s.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{clearAcademicRecords:d}=i.actions,c=i.reducer},38982:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>u,I0:()=>i,od:()=>d});var a=t(51990),o=t(23464);let n="https://learnsmart-6i9q.onrender.com/api",s={async getVirtualClasses(e,r){try{return(await o.A.get("".concat(n,"/student-portal/").concat(e,"/virtual-classes/"),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch virtual classes")}throw Error("An unexpected error occurred")}},async joinVirtualClass(e,r,t){try{return(await o.A.post("".concat(n,"/student-portal/").concat(e,"/virtual-class/join"),{virtualClassId:r,studentProfileId:e},{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){if(o.A.isAxiosError(e)){var a,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to join virtual class")}throw Error("An unexpected error occurred")}}},i=(0,a.zD)("virtualClasses/fetchAll",async(e,r)=>{let{studentProfileId:t,token:a}=e,{rejectWithValue:o}=r;try{return await s.getVirtualClasses(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unexpected error occurred")}}),d=(0,a.zD)("virtualClasses/join",async(e,r)=>{let{studentProfileId:t,virtualClassId:a,token:o}=e,{rejectWithValue:n}=r;try{return await s.joinVirtualClass(t,a,o)}catch(e){if(e instanceof Error)return n(e.message);return n("An unexpected error occurred")}}),c=(0,a.Z0)({name:"virtualClasses",initialState:{virtualClasses:[],isLoading:!1,isJoining:!1,error:null,joinError:null},reducers:{clearErrors:e=>{e.error=null,e.joinError=null}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.isLoading=!1,e.virtualClasses=r.payload}).addCase(i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(d.pending,e=>{e.isJoining=!0,e.joinError=null}).addCase(d.fulfilled,e=>{e.isJoining=!1}).addCase(d.rejected,(e,r)=>{e.isJoining=!1,e.joinError=r.payload})}}),{clearErrors:l}=c.actions,u=c.reducer},44069:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>c,pb:()=>s});var a=t(51990),o=t(23464);let n={async getPerformanceData(e,r,t,a){try{return(await o.A.get("".concat("https://learnsmart-6i9q.onrender.com/api","/student-portal/").concat(e,"/performance/course/").concat(r,"/semester/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}})).data}catch(e){if(o.A.isAxiosError(e)){var n,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to fetch performance data")}throw Error("An unexpected error occurred")}}},s=(0,a.zD)("performance/fetchData",async(e,r)=>{let{studentProfileId:t,courseId:a,semesterId:o,token:s}=e,{rejectWithValue:i}=r;try{return await n.getPerformanceData(t,a,o,s)}catch(e){if(e instanceof Error)return i(e.message);return i("An unexpected error occurred")}}),i=(0,a.Z0)({name:"performance",initialState:{performanceData:[],isLoading:!1,error:null},reducers:{clearPerformanceData:e=>{e.performanceData=[]}},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,r)=>{e.isLoading=!1,e.performanceData=r.payload}).addCase(s.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{clearPerformanceData:d}=i.actions,c=i.reducer},53999:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(52596),o=t(39688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.QP)((0,a.$)(r))}},77776:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>m,iD:()=>d,ri:()=>c});var a=t(51990),o=t(23464);let n={async login(e){try{return(await o.A.post("".concat("https://learnsmart-6i9q.onrender.com/api","/auth/login"),e)).data}catch(e){if(o.A.isAxiosError(e)){var r,t;throw Error((null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Login failed")}throw Error("An unexpected error occurred")}},logout(){localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("studentProfile"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},saveUserData(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("studentProfile",JSON.stringify(e.studentProfile)),document.cookie="accessToken=".concat(e.accessToken,"; path=/; max-age=2592000")},getUserData(){let e=localStorage.getItem("user"),r=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken"),a=localStorage.getItem("studentProfile");return e&&r&&t&&a?{user:JSON.parse(e),accessToken:r,refreshToken:t,studentProfile:JSON.parse(a)}:null}},s=n.getUserData(),i={user:(null==s?void 0:s.user)||null,studentProfile:(null==s?void 0:s.studentProfile)||null,accessToken:(null==s?void 0:s.accessToken)||null,refreshToken:(null==s?void 0:s.refreshToken)||null,isAuthenticated:!!s,isLoading:!1,error:null},d=(0,a.zD)("auth/login",async(e,r)=>{let{rejectWithValue:t}=r;try{let r=await n.login(e);return n.saveUserData(r),r}catch(e){if(e instanceof Error)return t(e.message);return t("An unexpected error occurred")}}),c=(0,a.zD)("auth/logout",async()=>{n.logout()}),l=(0,a.Z0)({name:"auth",initialState:i,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload.user,e.studentProfile=r.payload.studentProfile,e.accessToken=r.payload.accessToken,e.refreshToken=r.payload.refreshToken}).addCase(d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(c.fulfilled,e=>{e.isAuthenticated=!1,e.user=null,e.studentProfile=null,e.accessToken=null,e.refreshToken=null})}}),{clearError:u}=l.actions,m=l.reducer},83367:(e,r,t)=>{"use strict";t.d(r,{GV:()=>f,Ay:()=>A,$n:()=>u,y:()=>h,sk:()=>p,gi:()=>d,E1:()=>c,s4:()=>g});var a=t(51990),o=t(23464);let n="http://localhost:5000/api",s={async startQuiz(e,r){try{return(await o.A.post("".concat(n,"/quizzes/attempts/start"),e,{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to start quiz")}throw Error("An unexpected error occurred")}},async submitQuiz(e,r,t){try{return(await o.A.post("".concat(n,"/quizzes/attempts/").concat(e,"/submit"),r,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){if(o.A.isAxiosError(e)){var a,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to submit quiz")}throw Error("An unexpected error occurred")}},async getQuizAttempt(e,r){try{return(await o.A.get("".concat(n,"/quizzes/attempts/").concat(e),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to get quiz attempt")}throw Error("An unexpected error occurred")}},async getStudentQuizAttempts(e,r){try{return(await o.A.get("".concat(n,"/student-portal/").concat(e,"/quiz-attempts"),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to get quiz attempts")}throw Error("An unexpected error occurred")}}},i={currentAttempt:null,attempts:[],isLoading:!1,error:null,timeRemaining:null,isSubmitting:!1,isQuizActive:!1,answers:[]},d=(0,a.zD)("quiz/startQuiz",async(e,r)=>{let{quizId:t,studentProfileId:a,token:o}=e,{rejectWithValue:n}=r;try{return await s.startQuiz({quizId:t,studentProfileId:a},o)}catch(e){if(e instanceof Error)return n(e.message);return n("An unknown error occurred")}}),c=(0,a.zD)("quiz/submitQuiz",async(e,r)=>{let{attemptId:t,answers:a,token:o,timedOut:n=!1}=e,{rejectWithValue:i}=r;try{return{...await s.submitQuiz(t,{answers:a},o),timedOut:n}}catch(e){if(e instanceof Error)return i(e.message);return i("An unknown error occurred")}}),l=(0,a.zD)("quiz/getQuizAttempt",async(e,r)=>{let{attemptId:t,token:a}=e,{rejectWithValue:o}=r;try{return await s.getQuizAttempt(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unknown error occurred")}}),u=(0,a.zD)("quiz/getStudentQuizAttempts",async(e,r)=>{let{studentProfileId:t,token:a}=e,{rejectWithValue:o}=r;try{return await s.getStudentQuizAttempts(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unknown error occurred")}}),m=(0,a.Z0)({name:"quiz",initialState:i,reducers:{setTimeRemaining:(e,r)=>{e.timeRemaining=r.payload},updateAnswer:(e,r)=>{let{questionIndex:t}=r.payload,a=e.answers.findIndex(e=>e.questionIndex===t);-1!==a?e.answers[a]=r.payload:e.answers.push(r.payload)},clearCurrentQuiz:e=>{e.currentAttempt=null,e.timeRemaining=null,e.isQuizActive=!1,e.answers=[]},setQuizActive:(e,r)=>{e.isQuizActive=r.payload},resetQuizState:()=>i},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.isLoading=!1,e.currentAttempt=r.payload,e.isQuizActive=!0,e.timeRemaining=60*r.payload.quiz.timeLimit,e.answers=[]}).addCase(d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(c.pending,e=>{e.isSubmitting=!0,e.error=null}).addCase(c.fulfilled,(e,r)=>{e.isSubmitting=!1,e.isQuizActive=!1,e.currentAttempt=r.payload,e.timeRemaining=null;let t=e.attempts.findIndex(e=>e.id===r.payload.id);-1!==t?e.attempts[t]=r.payload:e.attempts.push(r.payload)}).addCase(c.rejected,(e,r)=>{e.isSubmitting=!1,e.error=r.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,r)=>{if(e.isLoading=!1,"in_progress"===r.payload.status){var t;if(e.currentAttempt=r.payload,e.isQuizActive=!0,null===(t=r.payload.quiz)||void 0===t?void 0:t.timeLimit){let t=new Date(r.payload.startTime).getTime(),a=Math.floor((new Date().getTime()-t)/1e3);e.timeRemaining=Math.max(0,60*r.payload.quiz.timeLimit-a)}}let a=e.attempts.findIndex(e=>e.id===r.payload.id);-1!==a?e.attempts[a]=r.payload:e.attempts.push(r.payload)}).addCase(l.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(u.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u.fulfilled,(e,r)=>{e.isLoading=!1,e.attempts=r.payload;let t=r.payload.find(e=>"in_progress"===e.status);if(t){var a;if(e.currentAttempt=t,e.isQuizActive=!0,null===(a=t.quiz)||void 0===a?void 0:a.timeLimit){let r=new Date(t.startTime).getTime(),a=Math.floor((new Date().getTime()-r)/1e3);e.timeRemaining=Math.max(0,60*t.quiz.timeLimit-a)}}}).addCase(u.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setTimeRemaining:p,updateAnswer:g,clearCurrentQuiz:f,setQuizActive:h,resetQuizState:v}=m.actions,A=m.reducer},93841:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>c,c0:()=>s});var a=t(51990),o=t(23464);let n={async getAttendanceRecords(e,r){try{return(await o.A.get("".concat("https://learnsmart-6i9q.onrender.com/api","/student-portal/").concat(e,"/attendance"),{headers:{Authorization:"Bearer ".concat(r)}})).data}catch(e){if(o.A.isAxiosError(e)){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch attendance records")}throw Error("An unexpected error occurred")}}},s=(0,a.zD)("attendance/fetchRecords",async(e,r)=>{let{studentProfileId:t,token:a}=e,{rejectWithValue:o}=r;try{return await n.getAttendanceRecords(t,a)}catch(e){if(e instanceof Error)return o(e.message);return o("An unexpected error occurred")}}),i=(0,a.Z0)({name:"attendance",initialState:{records:[],isLoading:!1,error:null},reducers:{clearAttendanceRecords:e=>{e.records=[]}},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,r)=>{e.isLoading=!1,e.records=r.payload}).addCase(s.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{clearAttendanceRecords:d}=i.actions,c=i.reducer},99304:(e,r,t)=>{"use strict";t.d(r,{ThemeProvider:()=>n});var a=t(95155);t(12115);var o=t(51362);function n(e){let{children:r,...t}=e;return(0,a.jsx)(o.N,{...t,children:r})}}},e=>{var r=r=>e(e.s=r);e.O(0,[618,997,967,441,684,358],()=>r(26238)),_N_E=e.O()}]);